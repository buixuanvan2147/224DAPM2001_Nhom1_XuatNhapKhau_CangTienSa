

@{
    Layout = "~/Views/Shared/_LayoutNhanVienKeToan.cshtml";
}


<h2 style="margin-top: 40px; font-family: Arial;">Bảng Điều Khiển Nhân Viên Kế Toán</h2>

<div class="tab-container">
    <button class="tab-button" onclick="showTab('tab1')">1. Cập Nhật Trạng Thái</button>
    <button class="tab-button" onclick="showTab('tab2')">2. Duyệt Gửi Hàng</button>
    <button class="tab-button" onclick="showTab('tab3')">3. Xuất Biên Lai</button>
</div>

<div class="tab-content" id="tab1">
    <h3>Cập Nhật Trạng Thái Đơn Hàng</h3>
    <table>
        <thead>
            <tr>
                <th>Mã Đơn Hàng</th>
                <th>Khách Hàng</th>
                <th>Ngày Đặt</th>
                <th>Tổng Tiền</th>
                <th>Trạng Thái</th>
                <th>Hành Động</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>DH001</td>
                <td>Công ty ABC</td>
                <td>01/05/2025</td>
                <td>10,000,000 VNĐ</td>
                <td>Chưa thanh toán</td>
                <td><button class="btn-confirm" onclick="xacNhanThanhToan(this)">Xác Nhận Thanh Toán</button></td>
            </tr>
            <tr>
                <td>DH002</td>
                <td>Công ty XYZ</td>
                <td>03/05/2025</td>
                <td>5,500,000 VNĐ</td>
                <td>Đã thanh toán</td>
                <td><button class="btn-confirm" disabled>Đã Xác Nhận</button></td>
            </tr>
        </tbody>
    </table>
</div>

<div class="tab-content" id="tab2" style="display:none">
    <h3>Duyệt Yêu Cầu Gửi Hàng</h3>
    <table>
        <thead>
            <tr>
                <th>Mã Đơn Hàng</th>
                <th>Người Gửi</th>
                <th>Người Nhận</th>
                <th>Chi Phí</th>
                <th>Trạng Thái</th>
                <th>Hành Động</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>GH001</td>
                <td>Nguyễn Văn A</td>
                <td>Trần Thị B</td>
                <td><input type="text" value="100,000 VNĐ" /></td>
                <td>Chờ duyệt</td>
                <td>
                    <button class="btn-confirm" onclick="duyetDonHang(this)">Duyệt</button>
                    <button class="btn-cancel" onclick="tuChoiDonHang(this)">Từ Chối</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div class="tab-content" id="tab3" style="display:none">
    <h3>Xuất Biên Lai Thanh Toán</h3>
    <table>
        <thead>
            <tr>
                <th>Mã Đơn Hàng</th>
                <th>Khách Hàng</th>
                <th>Số Tiền</th>
                <th>Thời Gian</th>
                <th>Trạng Thái</th>
                <th>Hành Động</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>DH001</td>
                <td>Công ty ABC</td>
                <td>10,000,000 VNĐ</td>
                <td>05/05/2025</td>
                <td>Đã thanh toán</td>
                <td><button class="btn-confirm" onclick="xuatBienLai('DH001')">Xuất Biên Lai</button></td>
            </tr>
            <tr>
                <td>DH003</td>
                <td>Công ty DEF</td>
                <td>7,200,000 VNĐ</td>
                <td>—</td>
                <td>Chưa thanh toán</td>
                <td><button class="btn-confirm" disabled>Chưa Thanh Toán</button></td>
            </tr>
        </tbody>
    </table>
</div>

<script>
    function showTab(id) {
        document.querySelectorAll(".tab-content").forEach(e => e.style.display = "none");
        document.getElementById(id).style.display = "block";
    }

    function xacNhanThanhToan(btn) {
        if (confirm("Xác nhận đơn hàng đã thanh toán?")) {
            alert("Cập nhật thành công.");
            btn.disabled = true;
            btn.innerText = "Đã Xác Nhận";
        }
    }

    function duyetDonHang(btn) {
        alert("Đã duyệt đơn hàng và cập nhật chi phí.");
        btn.disabled = true;
    }

    function tuChoiDonHang(btn) {
        alert("Đơn hàng đã bị từ chối.");
        btn.disabled = true;
    }

    function xuatBienLai(maDH) {
        alert("Biên lai cho đơn hàng " + maDH + " đã được tạo và gửi.");
    }
</script>

<style>
    .tab-container {
        margin-top: 30px;
        margin-bottom: 20px;
    }

    .tab-button {
        padding: 10px 20px;
        margin-right: 5px;
        background-color: #007BFF;
        border: none;
        color: white;
        cursor: pointer;
        border-radius: 4px;
    }

        .tab-button:hover {
            background-color: #0056b3;
        }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }

    th, td {
        padding: 10px;
        border: 1px solid #ddd;
    }

    th {
        background-color: #f4f4f4;
    }

    .btn-confirm {
        padding: 6px 12px;
        background-color: #28a745;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 4px;
    }

    .btn-cancel {
        padding: 6px 12px;
        background-color: #dc3545;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 4px;
        margin-left: 5px;
    }

        .btn-confirm:disabled, .btn-cancel:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
</style>
